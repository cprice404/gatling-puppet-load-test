## Node Configuration Files

This directory contains "node" configuration files.  These files basically tie a
Gatling recording together with the additional data that is necessary to configure
Puppet Server to properly compile the catalog that is appropriate for that agent
recording.

For best results, in order to use these files with the Jenkins g-p-l-t framework,
you should name the files the same as their corresponding gatling recording's
file name.  e.g., PECouchPerfMedium.json -> PECouchPerfMedium.scala.

### File format

Here is an example node config file:

```json
{
  "simulation_class": "com.puppetlabs.gatling.node_simulations.PECouchPerfMedium",
  "certname_prefix": "pgtomcat",
  "classes": [
    "role::by_size::medium"
  ]
}
```

This file was generated by the proxy-recorder script, so hopefully you won't need
to edit them by hand often, but here is a breakdown of the supported fields:

* `simulation_class`: This is the fully qualified Java/Scala package and class name
  for the gatling recording that you created via the proxy-recorder.
* `certname_prefix`: This is a prefix that the Jenkins/g-p-l-t framework will use
  to create a node group in the PE classifier, and that will be used to generate
  certnames for the nodes being simulated via gatling by the framework.  e.g., in
  this example config file, the framework would create a node group with a rule
  matching certnames that begin with /pgtomcat.*/ prior to beginning the simulation.
  Then, during the simulation, the simulated agents that were using this recording
  would show up with certnames like "pgtomcat1", "pgtomcat2", etc.
* `classes`: this is an array of classes that should be used to classify the
  node group.  This is how we ensure that the server is compiling the same type of
  catalog during the simulation as was used during the original gatling recording.

Note that the framework also supports OSS puppet server, in which case classification
will transparently be handled via `site.pp` rather than via the node classifier.
